SQL> spool
currently spooling to C:\2162019\DBMS\Exp4.txt
SQL> create table book_authors(Author_name varchar(20), Book_id references book(Book_id) on delete cascade, primary key(Book_id,author_name));

Table created.

SQL> desc book_authors;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 AUTHOR_NAME                               NOT NULL VARCHAR2(20)
 BOOK_ID                                   NOT NULL NUMBER(38)

SQL> create table library_branch(Branch_id integer primary key, Address varchar(20), Branch_name varchar(20));

Table created.

SQL> create table book_copies(no_of_copies integer, Book_id references book(book_id) on delete cascade, Branch_id references library_branch(Branch_id) on delete cascade);

Table created.

SQL> create table card(Card_no integer primary key);

Table created.

SQL> create table book_lending(Date_Out date, Due_date date, Branch_id references library_branch(Branch_id) on delete cascade, Book_id references book(book_id) on delete cascade, Card_no references card(card_no) on delete cascade, primary key(Branch_id, Book_id, Card_no));

Table created.

SQL> desc publisher;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 NAME                                      NOT NULL VARCHAR2(20)
 PHONE                                              NUMBER(38)
 ADDRESS                                            VARCHAR2(20)

SQL> INSERT INTO PUBLISHER VALUES ('MCGRAW-HILL', 9989076587,'BANGALORE');

1 row created.

SQL> INSERT INTO PUBLISHER VALUES ('PEARSON', 9889076565, 'NEWDELHI');

1 row created.

SQL> INSERT INTO PUBLISHER VALUES ('RANDOM HOUSE', 7455679345,'HYDRABAD');

1 row created.

SQL> INSERT INTO PUBLISHER VALUES ('HACHETTE LIVRE', 8970862340, 'CHENAI');

1 row created.

SQL> INSERT INTO PUBLISHER VALUES ('GRUPO PLANETA', 7756120238, 'BANGALORE');

1 row created.

SQL> desc book;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 BOOK_ID                                   NOT NULL NUMBER(38)
 TITLE                                              VARCHAR2(20)
 PUB_YEAR                                           NUMBER(38)
 PUB_NAME                                           VARCHAR2(20)

SQL> INSERT INTO BOOK VALUES (1,'DBMS','JAN-2017', 'MCGRAW-HILL');
INSERT INTO BOOK VALUES (1,'DBMS','JAN-2017', 'MCGRAW-HILL')
                                  *
ERROR at line 1:
ORA-01722: invalid number 


SQL> INSERT INTO BOOK VALUES (2,'ADBMS','JUN-2016','MCGRAW-HILL');
INSERT INTO BOOK VALUES (2,'ADBMS','JUN-2016','MCGRAW-HILL')
                                   *
ERROR at line 1:
ORA-01722: invalid number 


SQL> INSERT INTO BOOK VALUES (3,'CN','SEP-2016','PEARSON');
INSERT INTO BOOK VALUES (3,'CN','SEP-2016','PEARSON')
                                *
ERROR at line 1:
ORA-01722: invalid number 


SQL> INSERT INTO BOOK VALUES (4,'CG','SEP-2015', 'GRUPOPLANETA');
INSERT INTO BOOK VALUES (4,'CG','SEP-2015', 'GRUPOPLANETA')
                                *
ERROR at line 1:
ORA-01722: invalid number 


SQL> INSERT INTO BOOK VALUES (5,'OS','MAY-2016','PEARSON');
INSERT INTO BOOK VALUES (5,'OS','MAY-2016','PEARSON')
                                *
ERROR at line 1:
ORA-01722: invalid number 


SQL> drop table book;
drop table book
           *
ERROR at line 1:
ORA-02449: unique/primary keys in table referenced by foreign keys 


SQL> INSERT INTO BOOK VALUES (1,'DBMS',2017, 'MCGRAW-HILL');

1 row created.

SQL> INSERT INTO BOOK VALUES (2,'ADBMS',2016,'MCGRAW-HILL');

1 row created.

SQL> INSERT INTO BOOK VALUES (3,'CN',2016,'PEARSON');

1 row created.

SQL> INSERT INTO BOOK VALUES (4,'CG',2015, 'GRUPOPLANETA');
INSERT INTO BOOK VALUES (4,'CG',2015, 'GRUPOPLANETA')
*
ERROR at line 1:
ORA-02291: integrity constraint (SYSTEM.SYS_C007016) violated - parent key not 
found 


SQL> INSERT INTO BOOK VALUES (5,'OS',2016,'PEARSON');

1 row created.

SQL> INSERT INTO BOOK VALUES (4,'CG',2015, 'GRUPOPLANETA');
INSERT INTO BOOK VALUES (4,'CG',2015, 'GRUPOPLANETA')
*
ERROR at line 1:
ORA-02291: integrity constraint (SYSTEM.SYS_C007016) violated - parent key not 
found 


SQL> desc book;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 BOOK_ID                                   NOT NULL NUMBER(38)
 TITLE                                              VARCHAR2(20)
 PUB_YEAR                                           NUMBER(38)
 PUB_NAME                                           VARCHAR2(20)

SQL> select * from book;

   BOOK_ID TITLE                  PUB_YEAR PUB_NAME                             
---------- -------------------- ---------- --------------------                 
         1 DBMS                       2017 MCGRAW-HILL                          
         2 ADBMS                      2016 MCGRAW-HILL                          
         3 CN                         2016 PEARSON                              
         5 OS                         2016 PEARSON                              

SQL> INSERT INTO BOOK VALUES (4,'CG',2015, 'GRUPO PLANETA');

1 row created.

SQL> desc book_authors
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 AUTHOR_NAME                               NOT NULL VARCHAR2(20)
 BOOK_ID                                   NOT NULL NUMBER(38)

SQL> INSERT INTO BOOK_AUTHORS VALUES('NAVATHE', 1);

1 row created.

SQL> INSERT INTO BOOK_AUTHORS VALUES ('NAVATHE', 2);

1 row created.

SQL> INSERT INTO BOOK_AUTHORS VALUES ('TANENBAUM', 3);

1 row created.

SQL> INSERT INTO BOOK_AUTHORS VALUES ('EDWARDANGEL', 4);

1 row created.

SQL> INSERT INTO BOOK_AUTHORS VALUES('GALVIN', 5);

1 row created.

SQL> desc library_branch;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 BRANCH_ID                                 NOT NULL NUMBER(38)
 ADDRESS                                            VARCHAR2(20)
 BRANCH_NAME                                        VARCHAR2(20)

SQL> INSERT INTO LIBRARY_BRANCH VALUES (10,'BANGALORE','RR NAGAR');

1 row created.

SQL> INSERT INTO LIBRARY_BRANCH VALUES (11,'BANGALORE','RNSIT');

1 row created.

SQL> INSERT INTO LIBRARY_BRANCH VALUES (12, 'BANGALORE','RAJAJI NAGAR');

1 row created.

SQL> INSERT INTO LIBRARY_BRANCH VALUES (13,'MANGALORE','NITTE');

1 row created.

SQL> INSERT INTO LIBRARY_BRANCH VALUES (14,'UDUPI','MANIPAL');

1 row created.

SQL> desc book_copies;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 NO_OF_COPIES                                       NUMBER(38)
 BOOK_ID                                            NUMBER(38)
 BRANCH_ID                                          NUMBER(38)

SQL> INSERT INTO BOOK_COPIES VALUES (10, 1, 10);

1 row created.

SQL> INSERT INTO BOOK_COPIES VALUES (5, 1, 11);

1 row created.

SQL> INSERT INTO BOOK_COPIES VALUES (2, 2, 12);

1 row created.

SQL> INSERT INTO BOOK_COPIES VALUES (5, 2, 13);

1 row created.

SQL> INSERT INTO BOOK_COPIES VALUES (7, 3, 14);

1 row created.

SQL> INSERT INTO BOOK_COPIES VALUES (1, 5, 10);

1 row created.

SQL> INSERT INTO BOOK_COPIES VALUES (3, 4, 11);

1 row created.

SQL> INSERT INTO CARD VALUES (100);

1 row created.

SQL> INSERT INTO CARD VALUES (101);

1 row created.

SQL> INSERT INTO CARD VALUES (102);

1 row created.

SQL> INSERT INTO CARD VALUES (103);

1 row created.

SQL> INSERT INTO CARD VALUES (104);

1 row created.

SQL> desc_book_lending;
ERROR:
ORA-00911: invalid character 
ORA-00911: invalid character 


SQL> desc book_lending;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 DATE_OUT                                           DATE
 DUE_DATE                                           DATE
 BRANCH_ID                                 NOT NULL NUMBER(38)
 BOOK_ID                                   NOT NULL NUMBER(38)
 CARD_NO                                   NOT NULL NUMBER(38)

SQL> INSERT INTO BOOK_LENDING VALUES ('01-JAN-17','01-JUN-17', 10, 1, 101);

1 row created.

SQL> INSERT INTO BOOK_LENDING VALUES ('11-JAN-17','11-MAR-17', 14, 3, 101);

1 row created.

SQL> INSERT INTO BOOK_LENDING VALUES ('21-FEB-17','21-APR-17', 13, 2, 101);

1 row created.

SQL> INSERT INTO BOOK_LENDING VALUES ('15-MAR-17','15-JUL-17', 11, 4, 101);

1 row created.

SQL> INSERT INTO BOOK_LENDING VALUES ('12-APR-17','12-MAY-17', 11, 1, 104);

1 row created.

SQL> Select * from publisher;

NAME                      PHONE ADDRESS                                         
-------------------- ---------- --------------------                            
MCGRAW-HILL          9989076587 BANGALORE                                       
PEARSON              9889076565 NEWDELHI                                        
RANDOM HOUSE         7455679345 HYDRABAD                                        
HACHETTE LIVRE       8970862340 CHENAI                                          
GRUPO PLANETA        7756120238 BANGALORE                                       

SQL> Select * from book;

   BOOK_ID TITLE                  PUB_YEAR PUB_NAME                             
---------- -------------------- ---------- --------------------                 
         1 DBMS                       2017 MCGRAW-HILL                          
         2 ADBMS                      2016 MCGRAW-HILL                          
         3 CN                         2016 PEARSON                              
         5 OS                         2016 PEARSON                              
         4 CG                         2015 GRUPO PLANETA                        

SQL> Select * from book_authors;

AUTHOR_NAME             BOOK_ID                                                 
-------------------- ----------                                                 
NAVATHE                       1                                                 
NAVATHE                       2                                                 
TANENBAUM                     3                                                 
EDWARDANGEL                   4                                                 
GALVIN                        5                                                 

SQL> Select * from library_branch;

 BRANCH_ID ADDRESS              BRANCH_NAME                                     
---------- -------------------- --------------------                            
        10 BANGALORE            RR NAGAR                                        
        11 BANGALORE            RNSIT                                           
        12 BANGALORE            RAJAJI NAGAR                                    
        13 MANGALORE            NITTE                                           
        14 UDUPI                MANIPAL                                         

SQL> Select * from book_copies;

NO_OF_COPIES    BOOK_ID  BRANCH_ID                                              
------------ ---------- ----------                                              
          10          1         10                                              
           5          1         11                                              
           2          2         12                                              
           5          2         13                                              
           7          3         14                                              
           1          5         10                                              
           3          4         11                                              

7 rows selected.

SQL> Select * from card;

   CARD_NO                                                                      
----------                                                                      
       100                                                                      
       101                                                                      
       102                                                                      
       103                                                                      
       104                                                                      

SQL> Select * from book_lending;

DATE_OUT  DUE_DATE   BRANCH_ID    BOOK_ID    CARD_NO                            
--------- --------- ---------- ---------- ----------                            
01-JAN-17 01-JUN-17         10          1        101                            
11-JAN-17 11-MAR-17         14          3        101                            
21-FEB-17 21-APR-17         13          2        101                            
15-MAR-17 15-JUL-17         11          4        101                            
12-APR-17 12-MAY-17         11          1        104                            

SQL> spool off;
SQL> spool
currently spooling to C:\2162019\DBMS\Exp4.txt
SQL> Select A.Book_id, A.Title, A.pub_name, B.author_name, C.nu_of_copies,
  2  D.branch_id,
  3  from book A, book_authors B, book_copies C, library_branch D,
  4  where A.Book_id = B.Book_id, A.book_id = C.Book_id, C.Branch_id = D.branch_id;
from book A, book_authors B, book_copies C, library_branch D,
*
ERROR at line 3:
ORA-00936: missing expression 


SQL> Select A.Book_id, B.author_name from book A, Book_authors B where A.Book_id = B.Book_id;

   BOOK_ID AUTHOR_NAME                                                          
---------- --------------------                                                 
         1 NAVATHE                                                              
         2 NAVATHE                                                              
         3 TANENBAUM                                                            
         4 EDWARDANGEL                                                          
         5 GALVIN                                                               

SQL> Select A.Book_id, A.Title, A.pub_name, B.author_name, C.no_of_copies, D.Branch_id from Book A, Book_Authors B, Book_copies C, Library_Branch D where A.book_id = B.Book_id, A.book_id=C.Book_id, C.Branch_id=D.Branch_id;
Select A.Book_id, A.Title, A.pub_name, B.author_name, C.no_of_copies, D.Branch_id from Book A, Book_Authors B, Book_copies C, Library_Branch D where A.book_id = B.Book_id, A.book_id=C.Book_id, C.Branch_id=D.Branch_id
                                                                                                                                                                          *
ERROR at line 1:
ORA-00933: SQL command not properly ended 


SQL> Select A.Book_id, A.Title, A.pub_name, B.author_name, C.no_of_copies, D.Branch_id from Book A, Book_Authors B, Book_copies C, Library_Branch D where A.book_id = B.Book_id and A.book_id=C.Book_id and C.Branch_id=D.Branch_id;

   BOOK_ID TITLE                PUB_NAME             AUTHOR_NAME                
---------- -------------------- -------------------- --------------------       
NO_OF_COPIES  BRANCH_ID                                                         
------------ ----------                                                         
         1 DBMS                 MCGRAW-HILL          NAVATHE                    
          10         10                                                         
                                                                                
         1 DBMS                 MCGRAW-HILL          NAVATHE                    
           5         11                                                         
                                                                                
         2 ADBMS                MCGRAW-HILL          NAVATHE                    
           2         12                                                         
                                                                                

   BOOK_ID TITLE                PUB_NAME             AUTHOR_NAME                
---------- -------------------- -------------------- --------------------       
NO_OF_COPIES  BRANCH_ID                                                         
------------ ----------                                                         
         2 ADBMS                MCGRAW-HILL          NAVATHE                    
           5         13                                                         
                                                                                
         3 CN                   PEARSON              TANENBAUM                  
           7         14                                                         
                                                                                
         5 OS                   PEARSON              GALVIN                     
           1         10                                                         
                                                                                

   BOOK_ID TITLE                PUB_NAME             AUTHOR_NAME                
---------- -------------------- -------------------- --------------------       
NO_OF_COPIES  BRANCH_ID                                                         
------------ ----------                                                         
         4 CG                   GRUPO PLANETA        EDWARDANGEL                
           3         11                                                         
                                                                                

7 rows selected.

SQL> set linesize 1500;
SQL> Select A.Book_id, A.Title, A.pub_name, B.author_name, C.no_of_copies, D.Branch_id from Book A, Book_Authors B, Book_copies C, Library_Branch D where A.book_id = B.Book_id and A.book_id=C.Book_id and C.Branch_id=D.Branch_id;

   BOOK_ID TITLE                PUB_NAME             AUTHOR_NAME          NO_OF_COPIES  BRANCH_ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
---------- -------------------- -------------------- -------------------- ------------ ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         1 DBMS                 MCGRAW-HILL          NAVATHE                        10         10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         1 DBMS                 MCGRAW-HILL          NAVATHE                         5         11                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         2 ADBMS                MCGRAW-HILL          NAVATHE                         2         12                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         2 ADBMS                MCGRAW-HILL          NAVATHE                         5         13                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         3 CN                   PEARSON              TANENBAUM                       7         14                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         5 OS                   PEARSON              GALVIN                          1         10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
         4 CG                   GRUPO PLANETA        EDWARDANGEL                     3         11                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           

7 rows selected.

SQL> Select card_no from book_lending where date_out between '01-JAN-2017' and '01-JUN-2020' group by card no.
  2  having count(*)>3;
Select card_no from book_lending where date_out between '01-JAN-2017' and '01-JUN-2020' group by card no.
                                                                                                      *
ERROR at line 1:
ORA-00933: SQL command not properly ended 


SQL> Select card_no from book_lending where date_out between '01-JAN-2017' and '01-JUN-2020' group by card_no having count(*)>3;

   CARD_NO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
       101                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

SQL> delete * from book where book_id = 4;
delete * from book where book_id = 4
       *
ERROR at line 1:
ORA-00903: invalid table name 


SQL> delete from book where book_id = 4;

1 row deleted.

SQL> SELECT * FROM PUBLISHER;

NAME                      PHONE ADDRESS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
-------------------- ---------- --------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
MCGRAW-HILL          9989076587 BANGALORE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
PEARSON              9889076565 NEWDELHI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
RANDOM HOUSE         7455679345 HYDRABAD                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
HACHETTE LIVRE       8970862340 CHENAI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
GRUPO PLANETA        7756120238 BANGALORE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

SQL> 
SQL> SELECT * FROM BOOK;

   BOOK_ID TITLE                  PUB_YEAR PUB_NAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
---------- -------------------- ---------- --------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
         1 DBMS                       2017 MCGRAW-HILL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
         2 ADBMS                      2016 MCGRAW-HILL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
         3 CN                         2016 PEARSON                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
         5 OS                         2016 PEARSON                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          

SQL> 
SQL> SELECT * FROM BOOK_AUTHORS;

AUTHOR_NAME             BOOK_ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
-------------------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
NAVATHE                       1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
NAVATHE                       2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
TANENBAUM                     3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
GALVIN                        5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             

SQL> 
SQL> SELECT * FROM LIBRARY_BRANCH;

 BRANCH_ID ADDRESS              BRANCH_NAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
---------- -------------------- --------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
        10 BANGALORE            RR NAGAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        11 BANGALORE            RNSIT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
        12 BANGALORE            RAJAJI NAGAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        13 MANGALORE            NITTE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
        14 UDUPI                MANIPAL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     

SQL> 
SQL> SELECT * FROM BOOK_COPIES;

NO_OF_COPIES    BOOK_ID  BRANCH_ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
------------ ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
          10          1         10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
           5          1         11                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
           2          2         12                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
           5          2         13                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
           7          3         14                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
           1          5         10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          

6 rows selected.

SQL> 
SQL> SELECT * FROM CARD;

   CARD_NO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
       100                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
       101                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
       102                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
       103                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
       104                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

SQL> 
SQL> SELECT * FROM BOOK_LENDING;

DATE_OUT  DUE_DATE   BRANCH_ID    BOOK_ID    CARD_NO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
--------- --------- ---------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
01-JAN-17 01-JUN-17         10          1        101                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
11-JAN-17 11-MAR-17         14          3        101                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
21-FEB-17 21-APR-17         13          2        101                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
12-APR-17 12-MAY-17         11          1        104                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        

SQL> create view V_Publications as select pub_year from book;

View created.

SQL> select * from V_publications
  2  ;

  PUB_YEAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2017                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2016                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2016                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
      2016                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

SQL> create view bcop as select A.Title, A.Book_id, B.no_of_copies, C.Branch_id from Book A, Book_copies B, Library_Branch C where A.Book_id = B.Book_id and B.Branch_id = C.Branch_id;

View created.

SQL> Select * from bcop;

TITLE                   BOOK_ID NO_OF_COPIES  BRANCH_ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
-------------------- ---------- ------------ ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
DBMS                          1           10         10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
DBMS                          1            5         11                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
ADBMS                         2            2         12                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
ADBMS                         2            5         13                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
CN                            3            7         14                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
OS                            5            1         10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     

6 rows selected.

SQL> spool off;
